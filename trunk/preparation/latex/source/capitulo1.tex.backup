\chapter{Introdução} \label{cap:introducao}
\onehalfspacing
\section{Introdução geral} \label{sect:introducao}
Recentemente, tem-se observado avanços na concepção e fabrico de sistemas computacionais
programáveis baseados em hardware de pequena dimensão\cite{MEMS} com capacidades para desepenhar
tarefas específicas. Estes avanços permitiram integrar, nesses sistemas, processadores
miniaturizados, memória, dispositivos de processamento de sinal e de conversão analógica-digital
associada ao sensoriamento de diferentes fenómenos físicos (através de diversos tipos de sensores) e
capacidades de comunicação sem fios por rádio frequência (baseados em normas como
802.15.4\cite{ietf_802154,zigbee_802154} e Zigbee\cite{zigbee_802154})). A
possibilidade de construção destes dispositivos (que se designam mais simplesmente por nós sensores)
fez surgir, nos últimos anos, um novo campo da investigação conhecido pela área das redes de
sensores sem fios (RSSF). 

Uma rede de sensores é formada por um conjunto de pequenos dispositivos com as características
anteriores, distribuídos numa certa área geográfica, que podem funcionar de forma autónoma ou sem
supervisão humana e que, com maior ou menor densidade, permitem monitorizar diferentes fenómenos
físicos associados ao meio ambiente envolvente. Possuem características de
auto-organização, podendo ser formadas por um menor ou maior número de sensores e permitindo cobrir
desde pequenas a vastas áreas de monitorização. Um ambiente de instalação de uma rede de sensores
sem fios tanto pode ser um edifício, uma instalação industrial, uma área de combate, uma vasta zona
de monitorização de um habitat natural, um veículo, como o próprio corpo
humano\cite{apps_tracking,app_monitor,app_health,Akyildiz2002}.

A componente básica e fundamental de uma rede de sensores é pois o nó sensor (também designado por
\textit{mote})\cite{mica2_datasheet, btnodes,sunspotworld,micaz}. Cada um destes nós é visto como um
substrato computorizado que pode possuir diversos sensores para monitorizar, por exemplo,
temperatura, luz, movimento e outros fenómenos físicos, consoante as necessidades das aplicações.
Sendo um dispositivo miniaturizado e concebido para possuir um baixo custo de produção, apresenta um
poder de computação limitado, baixa largura de banda de comunicação, curto alcance de comunicação
rádio e energia autónoma limitada\cite{Yick2008}. Numa rede de sensores a energia pode constituir um
recurso finito. Pois, em certos ambientes de instalação pode não ser possível, ou viável, realizar
operações que exijam intervenção ou supervisão humana, por exemplo, para o carregamento ou
substituição de baterias. Conhecidas estas limitações, para se poderem atingir distribuições de
grande cobertura geográfica, os sensores têm de ser distribuídos em grande número, podendo-se
também, por esse meio, aumentar a redundância dos nós que assim formam redes de larga escala que
chegam a atingir milhares de nós.

Sendo o hardware de pequena dimensão e com características muito específicas para a tipologia de
aplicações às quais se aplica, os \textit{motes}, diferem uns dos outros consoante a sua função na
rede e poderão desempenhar, fundamentalmente, dois papeis: nó genérico gerador de informação
(source-nodes) e nó base ou de sincronização (nó colector de dados da rede ou de execução de
comandos de pesquisa)\textbf{[REFERENCIA]}. Numa RSSF os nós podem também actuar como nós de
interligação (ou de encaminhamento e processamento intermédio através da rede) ou gateways (que
permitem ligar o ambiente da rede de sensores a outras redes e sub-sistemas externos). Assim, uma
RSSF pode ser concebida de forma a ser interligada a outras infraestruturas computacionais que, com
maior capacidade de armazenamento e processamento, permitem efectuar análise de dados coligidos. Na
tecnologia actual existem ainda nós de desenvolvimento, que possuem ligações a computadores (ex:
ligação de rede ethernet, RS232 ou USB), permitindo o desenvolvimento e carregamento expedito de
código desenvolvido em estações de desenvolvimento. Os sensores dotados de ligações Ethernet, RS-232
ou USB podem ainda funcionar como nós de tipo gateway, permitindo num cenário concreto ligar a rede
de sensores a aplicações executando em sistemas de computadores usuais \textbf{[REFERENCIA]}.
\subsection{Caracterização de RSSF}\label{sect:subsec_caracterizacao_wsn}
As redes de sensores sem fios podem ser abordadas como um caso especial de redes \textit{ad-hoc},
embora exibam características especificas que podem ser mais ou menos 
diferenciadas\cite{Corson1999,}. As RSSF para aplicações de larga escala fazem emergir algumas
problemáticas inerentes a aplicações distribuídas, com especificidades e desafios próprios
\cite{Coulouris_sd4ed}, nomeadamente ao nível dos mecanismos de gestão, da organização topológica
autónoma, das necessidades de sistemas de encaminhamento \textit{multi-hop}, de requisitos de
tolerância a falhas, de requisitos de escalabilidade ou de necessidade de serviços de segurança.
\subsection{Aplicações}
Muitas foram as aplicações\cite{Akyildiz2002,Kuorilehto2005} encontradas na investigação ou na
utilização emergente
de redes desensores com diferentes requisitos de escala\cite{Yick2008}. O carácter autónomo destas
redes oferece um sem número de vantagens que propicia a sua utilização em locais remotos de
acessibilidade difícil e onde não é possível a sua manutenção e supervisão. De entre as aplicações
das RSSF, podem destacar-se as seguintes: 
\begin{description}\addtolength{\itemsep}{-.50\baselineskip}
 \item \textbf{Detecção de alvos/objectos(\textit{Target Tracking}):} \cite{apps_tracking}
associadas à detecção de movimento (trajectória/presença) em àreas vigiadas (como por exemplo, em
teatros operacionais militares ou na vigilância e monitorização de recursos ou infraestruturas);
 \item \textbf{Monitorização de fenómenos naturais:} \cite{app_monitor}associadas à detecção de
eventos ou anomalias ambientais (com aplicações na agricultura, monitorização de poluição ou
monitorização de  habitats naturais), bem como de vigilância ou controlo de fenómenos naturais
(sismos, actividade de vulcões, etc); 
 \item \textbf{Recolha de dados:} \cite{app_health} associadas ao controlo de indicadores físicos ou
biomédicos de pessoas ou de animais (com recurso a sensores especiais associados a aplicações da
medicina) ou como ambientes de monitorização de operação de infra-estruturas críticas (pontes,
edifícios, sistema electro-mecânicos ou equipamentos de instalações fabris).
\end{description}
\section{Segurança em RSSF} \label{sect:descricao}
A segurança nas RSSF é uma problema \textit{de facto}, quando se perspective a sua aplicação em
sistemas
críticos. A segurança deve ser pensada em tempo de concepção\cite{Perriga}, tendo em vista a
abrangência do sistema e tendo em atenção as particularidades específicas da tecnologia inerente e
dos ambientes onde são implementadas. Importa analisar as hipóteses de desencadeamento de ataques a
estas redes (a partir de hipóteses de modelos de adversário que devem ser considerados em cada caso)
bem como as repercussões das potenciais tipologias de
ataques\cite{Attaks_defenses_sec_in_wsn,Karlof2003} a uma plataforma genérica de uma RSSF, de modo a
reduzir as suas vulnerabilidades e de modo a antecipar o impacto desses ataques na operação da rede.
Esta análise deve ser feita tendo em conta a pilha de protocolos\cite{Akyildiz2002} e de serviços
associados ao \textit{software}\cite{tinyos,contiki,Karlof2004,SPINS} que executa em cada nó, uma
vez que cada uma das camadas de serviços e protocolos pode ser vulnerável a esses ataques. 

Na abordagem de uma plataforma usual e genérica para um nó de uma RSSF, verifica-se que, em geral,
cada nó apresenta uma pilha de protocolos e serviço muito simplista ou minimalista, por comparação
com uma pilha associada a uma rede de computadores usual (ex., TCP/IP ou pilha
OSI\cite{sd_tanenbaum}. As limitações impostas pelas dimensões e as capacidades de operação não
permitem uma arquitectura muito ambiciosa e, por outro lado, as RSSF possuem geralmente uma vocação
orientada para aplicações específicas, que condicionam os serviços que devem ser suportados na
pilha. As camadas de operação de um nó sensor são essencialmente cinco\cite{Akyildiz2002}: camada
física, camada de ligação de dados, camada de rede, camada de transporte e camada de aplicação,
embora na maior parte dos casos, a camada de transporte de dados e a funcionalidade inerente à
camada de rede sejam concebidas e já estejam de facto associadas ao suporte da aplicação. Na
investigação, verifica-se ainda que a própria camada de ligação de dados (nível MAC e protocolos
data-link) tenham sido estudados e propostos em diferentes variantes que podem ter vantagens
particulares dados os requisitos de operação das aplicações\cite{BMAC,SMAC,mac_protocols}.

Alguns autores\cite{SIGF,INSENS,clean_slate} têm vindo a desenhar algoritmos com vista a minimizar o
impacto dos ataques ao encaminhamento, durante a operação das RSSF. Estes algoritmos, pretendem
garantir algumas propriedades de segurança \cite{perrig_design_sec_sensor} (ex: confidencialidade,
integridade, autenticação,frescura). Com este facto, tendo em conta que um único protocolo, pode
não endereçar todas as tipologias de ataques, surge a necessidade de efectuar um estudo sistemático
das suas características. Este estudo, normalmente é realizado com recurso a modelos matemáticos,
análises teóricas ou experiências de pequena dimensão, que apenas permitem extrapolar medidas de
resistências a ataques, ou outras características, nomeadamente as relacionadas com a performance,
escala ou energia, medições estas que podem ser pouco representativas.
\section{Objectivos e contribuições previstas para a dissertação)} \label{sect:solucao}
Uma das vertentes do estudo da segurança em RSSF tem a ver com a possibilidade de se poderem
efectivar ataques ao nível rede, na visão de estruturação de uma pilha de suporte de serviços de
software. Diferentes tipologias de ataques \cite{Karlof2003,Hu2004,Perriga} exigem
diferentes tipos de contra-medidas, que normalmente são combinadas em mecanismos de segurança
inerentes à proposta de sistemas de encaminhamento seguro apropriados às características e operação
das RSSF\cite{SPINS,Luk2007d,Karlof2004}. 

Conhecidas que estão as dificuldades existentes no estudo de protocolos de encaminhamento
seguro\cite{Westhoff2006,Karlof2003,Sec_WSN_Vulnerabilities},
estes permanecem como um dos aspectos em aberto e de desafio à concepção de RSSF que operem em
condições de segurança. Este desafio é tanto mais relevante quanto a análise de segurança pode
envolver a avaliação de diferentes modelos e hipóteses de adversário\cite{Dolev1983,Parno2005}, e
com implicações em diferentes tipologias de ataques \cite{Attaks_defenses_sec_in_wsn,Karlof2003} que
nem sempre são estudados de forma sistemática e comparativa na abordagem de diferentes protocolos de
encaminhamento seguro que vão sendo propostos. Por outro lado, existe uma dificuldade adicional em
poder conjugar-se o estudo das contra-medidas de segurança de um protocolo de encaminhamento e a
avaliação experimental face a uma implementação. Assim, para cada protocolo e de forma
complementar a uma avaliação experimental, interessa medir o impacto que diferentes tipologias de
ataques podem ter, nomeadamente, para cenários de grande escala. Portanto, é particularmente
importante que se desenvolvam sistemas de simulação\cite{ns2,jsim,SENSE,shox,jprowler,fremote} de
RSSF que
permitam simular diferentes hipóteses de ataque e antecipar o seu impacto, não apenas
no comportamento dos protocolos de encaminhamento mas, complementarmente, no impacto que podem ter
sobre a própria rede, nomeadamente no que se refere, à energia, à fiabilidade ou à
latência, durante a operação. Um sistema que suprima estas dificuldades, contribui para um mais
rápido desenvolvimento e uma afinação mais cuidada de determinados parâmetros dos protocolos com
vista a garantir as propriedades de segurança desejadas para o ambiente de operação das RSSF.

No âmbito do trabalho que se pretende desenvolver na elaboração da dissertação, ao qual se
refere este relatório, pretende-se conceber e desenvolver um sistema de simulação inovador que
permita o estudo sistemático de protocolos de encaminhamento, desenhados com o intuito de
providenciar mecanismos de segurança, que possua em particular as seguintes funcionalidades: 
\begin{itemize}
\item Interface de visualização e configuração da rede, nomeadamente, com informações dos
parâmetros de simulação e informação detalhada de cada nó, bem como o estado energético e o grau de
ameaça a que está sujeito;
\item Implementação de um modelo de energia que permita extrair consumos em diferentes momentos de
operação: operação normal e operação perante determinado ataque;
\item Motor de geração de topologias, sabendo que as topologias da rede podem ter influência no seu
comportamento, introduz-se esta funcionalidade como forma de distribuir os nós de
diversas formas na área de monitorização: distribuição aleatória, distribuição em grelha,
distribuição controlada (estruturada);
\item Mecanismos de introdução de falhas/ataques na rede. Com este mecanismo pretende-se capacitar
o autor, de determinado protocolo, da possibilidade de introduzir ataques tipificados (ex: ao meio
de comunicação ou intrusão) e de provocar mutação de código, com vista a induzir alterações no
comportamento do protocolo;
\item Utilitários de recolha de dados da simulação, em tempo real e em tempo diferido, que permitam
a extracção de medições referentes a propriedades importantes como consumos de energia, latência,
fiabilidade, correcção do protocolo e correcção dos eventos, diponibilizando-os de forma gráfica.
\end{itemize}
\section{Principais contribuições e a sua avaliação} \label{sect:contribuicoes}
As principais contribuições resultantes da elaboração da dissertação são em especial duas:
Concepção de uma plataforma de simulação para protocolos de encaminhamento seguro em RSSF e a prova
de conceito, com a implementação de dois protocolos usando a plataforma concebida. No caso da
primeira contribuição, pretende-se, com a implementação das funcionalidades anteriormente descritas,
possibilitar a avaliação sistemática de algoritmos de encaminhamento. Esta avaliação permitirá a
análise de propriedades tão importantes como: o consumo de energia, a fiabilidade da rede, latência
das comunicações, correcção dos dados e a correcção do protocolo. Propriedades estas, que
normalmente, são extrapoladas da implementação experimental em pequena escala ou da adopção de
modelos matemáticos , que devido a variaveis externas, próprias do ambiente de operação, podem se
afastar bastante dos resultados reais. 

A segunda contribuição, decorre da primeira e consiste na implementação de dois algoritmos de
encaminhamento seguro. Funcionando como prova de conceito, pretende aferir a usabilidade da
plataforma, para o fim que foi concebida mas, pretende também, fazer um estudo comparativo entre os
algoritmos implementados, pela observação das propriedades já referidas. Permitindo assim
desenvolver uma análise crítica em relação a trabalhos publicados relacionados  com estes
algoritmos. Contribui ainda, com o estabelecimento de uma base de comparação, para futuras
avaliações, de outros protocolos emergentes, no que se refere ao impacto que os mecanismos de
segurança, têm sobre as propriedades mencionadas.
