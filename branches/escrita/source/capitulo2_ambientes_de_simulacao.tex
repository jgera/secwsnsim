\newpage
\section{Ambientes de Simulação}
Os ambientes de simulação de RSSF surgem como uma necessidade, inevitável, para o
teste e desenvolvimento das redes de sensores e de todas as tecnologias
associadas \cite{park_simulating_2001,simulators}. Alguns ambientes têm sido desenvolvidos
especificamente para determinados problemas. Outros são adaptados a partir de ambientes já
existentes, como é o caso do NS2 \cite{ns2} ou J-Sim \cite{jsim}, que foram concebidos para
simulações relacionadas com redes convencionais (ex: IEEE802.3, IEEE802.11). A característica
importante destes ambientes é a capacidade de repetição de
experiências, perante as mesmas condições, facilitando, assim, uma análise sistemática do objecto de
estudo.

Nesta secção, apresentam-se diversos ambientes de simulação, mais comuns, e que permitam simular um
sistema de RSSF. Foram seleccionados, em primeiro lugar, seguindo critérios relacionados com 
engenharia de \textit{software}. Seguidamente, com vista à avaliação de um ambiente que se mostre
adequado para ser utilizado no trabalho de dissertação, foram estabelecidos critérios relacionados
com as RSSF.

\subsection{Critérios Relacionados com Engenharia de Software}
\begin{description}\descvspace	
 \item[Portabilidade da Linguagem] Devido às características da linguagem de programação Java,
inerente ao seu ambiente de execução, à consequente portabilidade e à programação orientada a
objectos, foram seleccionados apenas ambientes desenvolvidos nesta linguagem. 
\item[Código Aberto e
Livre] Esta propriedade permite que se contornem
obstáculos inerentes a licenciamento de \textit{software}, ao mesmo tempo que 
possibilita a análise e aproveitamento de todas as funcionalidades existentes,
permitindo introduzir algumas melhorias ou alterações específicas.
\item[Modularidade e extensibilidade] Tendo em conta que os ambientes não
possuem todos as mesmas características e funcionalidades e, considerando que
a componente experimental da dissertação irá introduzir novos
mecanismos, o princípio da modularidade e da fácil extensibilidade facilitará o desenrolar do
trabalho.
\item[Documentação] Alguns ambientes podem não estar bem documentados. Este critério será
importante como ponto de partida para o aprofundamento do conhecimento de cada uma das
arquitecturas destas ferramentas.
\end{description}
\subsection{Critérios Relacionados com as RSSF}
\begin{description}\descvspace
\item[Escalabilidade da Rede] Uma das características mais importantes das RSSF é o conceito de
escala, que se deve ao facto de estas compreenderem, normalmente, um grande número de sensores
distribuídos por uma vasta área. Assim, é importante que o ambiente de simulação possa suportar
experiências com milhares de nós, uma vez que o factor escala é um das propriedades que se querem
ver analisadas no trabalho a desenvolver;
\item[Modelo de Colisões/Comunicação Rádio] É fundamental que este modelo se encontre presente no
sistema de simulação, por ser um componente base das RSSF, relacionado com a camada de
acesso ao meio e de ligação de dados (ex: B-MAC, S-MAC) \cite{BMAC,SMAC};
\item[Modelo de Gestão de Energia] A existência de um modelo de energia permitirá adaptar esta
funcionalidade e incluí-la na plataforma final, visto tratar-se de uma das propriedades
que se deseja estudar.
\item[Capacidade de Emulação] Alguns simuladores possuem a capacidade de emular 
um sensor real, permitindo efectuar o carregamento de código directamente para o \textit{mote}, sem
recurso a recompilação. Não sendo um critério mandatório, reveste-se de algum interesse;
\item[Modelo de Mobilidade] Ainda que as RSSF sejam maioritariamente instaladas com características
estáticas ou de pouca mobilidade, a existência de um modelo de mobilidade poderá possibilitar
a avaliação dos comportamentos dos protocolos, mediante esta propriedade;
\item[Interface de Visualização] É importante que o ambiente de simulação possua uma interface de
visualização, permitindo uma percepção mais fácil dos comportamentos dos protocolos (ex:
topologia, cobertura), bem como o controlo da simulação e extracção de resultados.
\item[Modelo de Gestão de Topologia] Um factor que pode influenciar o comportamento de
um protocolo de encaminhamento é a topologia. Como tal, é relevante a existência deste modelo por
forma a avaliar os protocolos desenhados, perante diferentes topologias.
\end{description}
\subsection{Prowler/JProwler}
 \cite{jprowler}Esta ferramenta resulta da conversão de um simulador de eventos
discretos\footnote{Fila global, onde são inseridos todos os eventos da rede, tratados sequencialmente ou por prioridade.}, Prowler \cite{prowler}, implementado em MATLAB, pela Universidade de
Vanderbilt, para a linguagem Java. Este simulador pode ser
configurado para simular, de forma determinística ou probabilística. Permite a simulação, com diversos
nós, podendo atingir os 5000 (ainda que o número possa ser maior, por razões de
performance, este é o valor máximo aconselhado), usando diversas
topologias (dinâmicas/aleatórias), às quais se podem sujeitar diversos
algoritmos. 

O JProwler modela os aspectos mais importantes do modelo de comunicação de uma RSSF. A natureza
não-determinística da propagação rádio é caracterizada por um modelo de rádio
probabilístico simples e preciso, que descreve a operação da camada MAC. Possui uma janela de
visualização da topologia da rede. Para o desenvolvimento de aplicações ou protocolos são
disponibilizadas classes base que se podem estender. Estão presentes dois modelos de rádio: um de
Gauss, para topologias estáticas, e outro de Rayleigh, para topologias móveis.
\subsection{J-Sim}
J-Sim (anteriormente conhecido como JavaSim) é um ambiente de simulação baseado em componentes
 \cite{jsim}, implementado em Java. Não foi desenvolvido inicialmente com vista à sua utilização em
RSSF, como é o caso do ambiente SENSE \cite{SENSE}, mas o objectivo de extensibilidade é comum. Este ambiente é amplamente usado e implementa um modelo de rede em camadas.
No entanto, este simulador não é o mais adequado para o estudo do desempenho em RSSF, visto que
este é condicionado pelo \textit{hardware}, pelo sistema operativo, pelos protocolos de rede e pelas
aplicações, assim como pelas optimizações específicas entre camadas da pilha de protocolos. Apesar disto, o
J-Sim é um importante ambiente de simulação, dada a natureza fracamente ligada dos seus componentes,
a qual permite o desenvolvimento e prototipagem de aplicações. Exige, no entanto, algum
conhecimento profundo da arquitectura, mesmo para a implementação de protocolos simples.
\subsection{Freemote}
Fremote é uma ferramenta de emulação \cite{freemote} distribuída\footnote{Funciona em rede, com a
possibilidade de ter diversos clientes de visualização, ligados a um servidor central.}, desenvolvida
em Java, utilizada para o desenvolvimento de \textit{software} para RSSF. O emulador suporta
\textit{motes} (Squawk, Sentilla) e plataformas (Java Cards, SunSpot \cite{sunspotworld}), baseados
em Java. Divide a arquitectura em camadas bem definidas por interfaces: Aplicação, Encaminhamento e
Ligação de Dados/MAC. Tem um interface gráfico para configuração. Suporta experiências de grande
escala (10.000 nós), incluindo a sua integração com nós reais, baseados em Java. Os principais pontos
negativos são: i) O modelo de propagação rádio é muito simples, uma vez que não
considera obstáculos entre os nós; ii) Só existe um modelo de comunicação
real, limitado a emulação simples de plataformas específicas (JMote); iii) Não é orientado para a
análise de performance das redes, característica que pode ser importante no desenvolvimento de
algoritmos para RSSF.
\subsection{ShoX}
A ideia principal deste simulador \cite{shox} é a de proporcionar, de uma forma fácil e intuitiva, a
implementação e desenho de protocolos de rede, modelos de mobilidade, modelos de propagação de sinal
ou de tráfego de rede. Tal como outros simuladores, incorpora um simulador de eventos discretos, que
faz a gestão de todos os eventos da rede. Todos os conceitos conhecidos no domínio das redes sem
fios são modelados neste simulador (modelo OSI, pacotes, mobilidade e energia). Uma das vantagens é
a existência de classes abstractas para reimplementação de novos modelos em cada um dos
componentes, facilitando a programação de novos protocolos ou de novas funcionalidades. A comunicação
entre componentes é feita por intermédio de eventos, ou seja, não existe acesso de um componente a
outro. Deve-se destacar o interface gráfico, que permite operar todas as configurações
da ferramenta, sem a necessidade de editar directamente os ficheiros de XML.
Para além disso, é ainda possível visualizar a topologia de rede e extrair resultados gráficos da
simulação. O facto de o modelo de propagação de sinal ser baseado na norma IEEE802.11 dificulta a
adaptação às condições das RSSF. No entanto, a modularidade do sistema
permite o desenvolvimento de uma camada IEEE802.15.4 para se aproximar da norma
mais recente de comunicação das RSSF\footnote{Não cabe no âmbito da dissertação o desenvolvimento do módulo de comunicação}. A arquitectura deste simulador aproxima-se bastante daquilo que deve ser um
simulador de RSSF, em que as diversas camadas estão bem definidas.

