\section{Ambientes de Simulação}
%Algumas das limitações existentes nas plataformas das RSSF, devem-se ao facto
%de se pretender manter os sensores com um preço o mais baixo possível. No campo da
%investigação estão a ser introduzidos novos protocolos de encaminhamento, novas aplicações, novos
%algoritmos e tecnologias de segurança. Tratando-se de redes com tempo de vida limitado, o uso de
%sensores reais pode representar custos consideráveis, quando se escala
%uma rede para os milhares de dispositivos, podendo funcionar como constrangimento para o
%desenvolvimento de novas tecnologias ou melhoramento das existentes.
Os ambientes de simulação de RSSF surgem como uma necessidade, inevitável, para o
teste e desenvolvimento das redes de sensores e todas as tecnologias
associadas\cite{park_simulating_2001,simulators}. Alguns ambientes têm sido desenvolvidos
específicamente para determinados problemas. Outros são adaptados a partir de ambientes já
existentes, como é o caso do NS2\cite{ns2} ou J-Sim\cite{jsim}, que foram concebidos para
simulações relacionadas com redes convencionais (ex: 802.3, 802.11). A característica importante,
destes ambientes, que importa para a investigação, é a capacidade de repetição de experiências
perante as mesmas condições, facilitando assim uma análise sistemática do objecto de estudo.

Nesta secção apresentam-se diversos ambientes de simulação, mais comuns, e que permitam simular
sistema de RSSF. Foram seleccionados, em premeiro lugar, seguindo critérios relacionados com 
engenharia de \textit{software}. Seguidamente, com vista à avaliação de um ambiente que se mostre
adequado para a utilização no trabalho de dissertação, foram estabelecidos critérios relacionados
com as RSSF.

\subsection{Critérios Relacionados com Engenharia de Software}
\begin{description}\descvspace
 \item[Portabilidade da Linguagem] Devido às caracteristicas da linguagem de
programação Java, inerente ao seu ambiente de execução, à
consequente portabilidade e à programação orientada a objectos, foram seleccionados apenas ambientes
desenvolvidos nesta linguagem.
\item[Código Aberto e Livre] Esta propriedade permite que se contorne
obstáculos inerentes a licenciamento de \textit{software}, bem como 
possibilita a análise e aproveitamento de todas as funcionalidades existentes,
permitindo introduzir algumas melhorias ou alterações específicas.
\item[Modularidade e extensibilidade] Tendo em conta que os ambientes não
possuem todos as mesmas caracterisiticas e funcionalidades e, considerando que
a componente experimental da dissertação irá introduzir novos
mecanismos, o princípio da modularidade e da fácil extensibilidade facilitará o desenrolar do
trabalho.
\item[Documentação] Alguns ambientes podem não se encontrar bem documentados. Este critério será
importante como ponto de partida para o aprofundamento do conhecimento de cada uma das
arquitecturas destas ferramentas.
\end{description}
\subsection{Critérios Relacionados com as RSSF}
\begin{description}\descvspace
\item[Escalabilidade da Rede] Uma das características mais importantes das RSSF é o conceito de
escala, que se deve ao facto de estas compreenderem, normalmente, um grande número de sensores
distríbuidos por uma vasta àrea. Assim, é importante que o ambiente de simulação possa suportar
experiências com milhares de nós, uma vez que o factor escala é um das propriedades que se querem
ver analisadas no trabalho a desenvolver;
\item[Modelo de Colisões/Comunicação Rádio] Este modelo é fundamental que se encontre modelado no
sistema de simulação por ser um componente base das RSSF, relacionado com a camada de
acesso ao meio e de ligação de dados(ex: B-MAC, S-MAC)\cite{BMAC,SMAC}, e não se pretende que seja
desenvolvido no âmbito da elaboração da dissertação;
\item[Modelo de Gestão de Energia] A existência de um modelo de energia permitirá adaptar a
funcionalidade com vista à integração na plataforma final, visto se tratar de uma das propriedades
que se deseja permitir estudar.
\item[Capacidade de Emulação] Alguns simuladores possuem a capacidade de emular 
um sensor real, permitindo efectuar o carregamento de código directamente para o \textit{mote}, sem
recurso a recompilação, não sendo um critério mandatório, reveste-se de grande interesse;
\item[Modelo de Mobilidade] Ainda que as RSSF sejam maioritariamente instaladas com características
estáticas ou de pouca mobilidade, a existência de um modelo de mobilidade poderá possibilitar
a avaliação dos comportamentos dos protocolos mediante esta propriedade;
\item[Interface de Visualização] É importante que o ambiente de simulação possua uma interface de
visualização, permitindo uma mais fácil percepção dos comportamentos dos protocolos (ex:
topologia, cobertura), bem como o controlo da simulação e extracção de resultados.
\item[Modelo de Gestão de Topologia] Um factor que pode influênciar o comportamento de
um protocolo de encaminhamento, é a topologia. Como tal, é relevante a existência deste modelo por
forma a avaliar os protocolos desenhados perante diferentes topologias.
\end{description}
\subsection{Prowler/JProwler}
\cite{jprowler}Esta ferramenta resulta da conversão de um simulador de eventos
discretos\footnote{Fila global onde são inseridos todos os eventos da rede e
que são tratados sequencialmente ou por prioridade, dependendo da
implementação} Prowler\cite{prowler}, implementado em MATLAB, pela Universidade de
Vanderbilt, para a linguagem Java. Este simulador pode ser
configurado para simular de forma deterministica (permitindo a repetição de
experiências) ou probabilistica ( adequado para simular a forma não
deterministica de comunicação entre \textit{motes}). Permite a simulação com diversos
nós podendo chegar aos 5000 ( ainda que o número possa ser maior, por razões de
performance é o valor máximo aconselhado) usando diversas
topologias(dinâmicas) nas quais se podem implementar os mais diversos
algoritmos. 

O JProwler modela os aspectos mais importantes de todos os níveis do modelo de comunicação e de
aplicação. A natureza não-deterministica da propagação rádio é caracterizada por um modelo de rádio
probabilístico simples e preciso que descreve a operação da camada MAC. Possui uma janela de
visualização da topologia RSSF. Para o desenvolvimento de aplicações ou protocolos são
disponibilizadas classes base que se podem estender. Estão presentes dois modelos de rádio: um de
Gauss para topologias estáticas e outro de Rayleigh para topologias móveis.
\subsection{J-Sim}
J-Sim (anteriormente conhecido como JavaSim) é um ambiente de simulação baseado em componentes
\cite{jsim}, implementado em Java. Não foi desenvolvido inicialmente com vista a sua utilização em
RSSF como é o caso do ambiente SENSE\cite{SENSE}, mas o objectivo para o desenvolvimento foi o
mesmo: extensibilidade. Este ambiente é amplamente usado e implementa um modelo de rede em camadas.
No entanto, este simulador não é o mais adequado para o estudo do desempenho em RSSF, visto que,
esta é condicionada pelo \textit{hardware}, pelo sistema operativo, pelos protocolos de rede e pelas
aplicações assim como optimizações especificas entre camada da pilha de protocolos (ex:
implementação de mecanismos de transporte ao nível aplicação). Apesar disto, o J-Sim é um
importante ambiente de simulação dada a natureza fracamente ligada dos seus componentes que
permitem o rápido desenvolvimento e prototipagem de aplicações.
\subsection{Freemote}
Fremote é uma ferramenta de emulação \cite{freemote} distríbuida\footnote{Funciona em rede com a
possibilidade de ter diversos clientes de visualização ligados a um servidor central} desenvolvida
em Java, utilizada para o desenvolvimento \textit{software} para RSSF. O emulador suporta
\textit{motes} (Squawk, Sentilla) e plataformas (Java cards, SunSpot\cite{sunspotworld} ) baseados
em Java. Devide a arquitectura em camadas bem definidas por interfaces: Aplicação, Encaminhamento e
Ligação de Dados/MAC. Sendo um emulador, os nós reais podem ser baseados na norma de comunicação
IEEE802.15.4\cite{ietf_802154} (ex:MICAz\cite{micaz}). Tem um interface gráfico para configuração.
Suporta experiências de grande escala (10.000 nós) incluindo a integração com nós reais baseados em
Java. Os principais pontos negativos são: 1)  o modelo de propagação rádio é muito simples uma vez
que não
considera obstáculos entre os nós. 2) Só existe um modelo de comunicação
real, limitado a emulação simples de plataformas especificas (JMote). 3)
Não é orientada para a análise de performance das redes, característica pode ser
importante no desenvolvimento de algoritmos para RSSF.
\subsection{ShoX}
Trata-se de um simulador de redes sem fios, implementado em
Java\cite{shox}. A ideia principal desta ferramenta é a de proporcionar, de uma
forma fácil e intuitiva, a implementação e desenho de protocolos de rede,
modelos de mobilidade, modelos de propagação de sinal ou de tráfego de rede.
Tal como outros simuladores incorpora um simulador de eventos discretos, que
faz a gestão de todos os eventos da rede. Todos os conceitos conhecidos no
dominio das redes sem fios são modelados neste simulador (modelo OSI,
pacotes, mobilidade e energia). Uma das vantagens é a existência de
classes abstractas para reimplementação de novos modelos em cada um dos
componentes, faciltando a programação de novos protocolos ou
novas funcionalidades. A comunicação entre componentes é feita por intermédio
de eventos, ou seja não existe acesso de um componente a outro.
Deve-se destacar o interface gráfico, que permite operar todas as configurações
da ferramenta sem a necessidade de editar directamente os ficheiros de XML.
Para além disso é ainda possível visualizar a topologia de rede e extrair resultados gráficos da
simulação. O facto do modelo de propagação de sinal ser baseado na norma IEEE802.11, torna
dificil a adaptação às condições das RSSF, no entanto a modularidade do sistema
permite o desenvolvimento de uma camada IEEE802.15.4 para se aproximar da norma
mais recente de comunicação das RSSF\footnote{Pode-se considerar este facto uma desvantagem, pois
não cabe no âmbito da dissertação o desenvolvimento do módulo de comunicação}. Apesar deste facto
se apresentar como uma desvantagem, a arquitectura apróxima-se bastante do que deve ser um
simulador de RSSF, em que as camadas estão bem definidas, chegando ao ponto de poder simular a
camada respeitante a um sistema operativo de um nó. 